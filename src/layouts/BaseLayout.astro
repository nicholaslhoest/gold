---
import "../styles/global.css";
import Sidebar from "../components/Sidebar.astro";
import Analytics from '@vercel/analytics/astro'

const {title, date, time, tags } = Astro.props;
---

<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    <Analytics />
</head>
<body data-theme="bumblebee" class="min-h-screen">

<!-- Use one source of truth for width -->
<div class="drawer lg:drawer-open" style="--sidebar: 16rem;">
    <input id="site-drawer" type="checkbox" class="drawer-toggle" />

    <!-- Page content -->
    <div class="drawer-content">
        <!-- Mobile toggle button -->
        <label for="site-drawer"
               class="btn btn-ghost btn-circle fixed top-4 left-4 z-50 lg:hidden"
               aria-label="Open menu">
            <!-- hamburger -->
            <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor" aria-hidden="true">
                <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
        </label>

        <!-- Content (shifted on desktop) -->
        <main class="flex-1">
            <div class="mx-auto max-w-prose">
                <slot />
            </div>
        </main>
    </div>

    <!-- Drawer panel -->
    <div class="drawer-side">
        <!-- overlay (clicking closes on mobile) -->
        <label for="site-drawer" aria-label="close sidebar"
               class="drawer-overlay transition-opacity duration-200"></label>

        <!-- panel with slide animation -->
        <aside class="h-full w-[var(--sidebar)] bg-stone-50
                     transform transition-transform duration-300 ease-in-out">
            <Sidebar />
        </aside>
    </div>
</div>
</body>
</html>